<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumFlow Analyzer</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="theme-dark-elegant">
    <div class="app-wrapper"> <div class="app-container">
            <header class="app-header">
                <div class="app-title-wrapper">
                    <h1 class="app-title">QuantumFlow Analyzer</h1>
                    <p class="app-subtitle">Your Elegant Market Sentiment Dashboard</p>
                </div>
                <div class="header-right">
                    <div class="time-info" id="timezone-clocks">
                        </div>
                    <div class="live-clock" id="live-clock"></div>
                    <button class="btn btn-icon btn-clear-all" id="clearAllDataBtn" title="Clear All Data (Counts, History, Journal, Parameters)">
                        <i class="fas fa-eraser"></i>
                    </button>
                </div>
            </header>

            <main class="main-content-grid">
                <section class="section-card trade-actions-section">
                    <h2 class="section-title"><i class="fas fa-chart-line"></i> Trade Flow Input</h2>
                    <div class="input-grid">
                        <div class="input-group">
                            <label for="buy-input" class="input-label"><i class="fas fa-long-arrow-alt-up text-accent-green"></i> Current Buy Flow:</label>
                            <div class="input-controls">
                                <button class="btn-control btn-deduct" data-action="buy" data-change="-0.5" data-direction="down">-0.5</button>
                                <input type="number" id="buy-input" class="value-input" value="0" step="0.5">
                                <button class="btn-control btn-increment" data-action="buy" data-change="0.5" data-direction="up">+0.5</button>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="sell-input" class="input-label"><i class="fas fa-long-arrow-alt-down text-accent-red"></i> Current Sell Flow:</label>
                            <div class="input-controls">
                                <button class="btn-control btn-deduct" data-action="sell" data-change="-0.5" data-direction="down">-0.5</button>
                                <input type="number" id="sell-input" class="value-input" value="0" step="0.5">
                                <button class="btn-control btn-increment" data-action="sell" data-change="0.5" data-direction="up">+0.5</button>
                            </div>
                        </div>
                    </div>
                    <div class="button-grid">
                        <button class="btn btn-primary" id="submitEntriesBtn">
                            <i class="fas fa-check-circle"></i> Submit Flow
                        </button>
                        <button class="btn btn-secondary" id="resetCurrentBtn">
                            <i class="fas fa-sync-alt"></i> Reset Flow
                        </button>
                        <button class="btn btn-info" id="undoLastActionBtn">
                            <i class="fas fa-undo"></i> Undo
                        </button>
                    </div>
                    <div class="pending-selections">
                        <div class="selection-item">
                            <span id="selected-buy" class="selection-value text-accent-green">0.0</span>
                            <span class="selection-label">Pending Buys</span>
                        </div>
                        <div class="selection-item">
                            <span id="selected-sell" class="selection-value text-accent-red">0.0</span>
                            <span class="selection-label">Pending Sells</span>
                        </div>
                    </div>
                </section>

                <section class="section-card market-sentiment-section">
                    <h2 class="section-title"><i class="fas fa-chart-pie"></i> Market Sentiment</h2>
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <span id="buy-count" class="analysis-value text-accent-green">0.0</span>
                            <span class="analysis-label">Total Buys</span>
                        </div>
                        <div class="analysis-item">
                            <span id="sell-count" class="analysis-value text-accent-red">0.0</span>
                            <span class="analysis-label">Total Sells</span>
                        </div>
                        <div class="analysis-item">
                            <span id="difference" class="analysis-value text-accent-yellow">0.0</span>
                            <span class="analysis-label">Difference</span>
                        </div>
                        <div class="analysis-item">
                            <span id="percentage" class="analysis-value text-accent-blue">0%</span>
                            <span class="analysis-label">Influence %</span>
                        </div>
                    </div>
                    <div class="analysis-conclusion">
                        <p class="conclusion-text" id="conclusion">Conclusion: Awaiting Data</p>
                        <span class="sentiment-badge" id="sentiment-badge">No Signal</span>
                    </div>
                </section>

                <section class="section-card recent-flows-section">
                    <h2 class="section-title"><i class="fas fa-history"></i> Recent Flows <span class="text-xs text-text-dark">(Last 30)</span></h2>
                    <div id="history" class="history-list scrollable-content">
                        <p class="text-center text-text-dark py-4">No entries yet.</p>
                    </div>
                </section>

                <section class="section-card collapsible-panel-container">
                    <div class="collapsible-header" id="toggleNotesParamsBtn">
                        <h2 class="section-title flex-grow"><i class="fas fa-info-circle"></i> Notes & Parameters</h2>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div class="collapsible-content" id="notes-params-content">
                        <h3 class="subsection-title"><i class="fas fa-clipboard-list"></i> Detailed Entry History</h3>
                        <input type="text" id="note-search" class="text-input search-input" placeholder="Search notes by title or content...">
                        <div id="historyWithNotes" class="history-detail-list scrollable-content">
                            <p class="text-center text-text-dark py-4">No detailed entries yet.</p>
                        </div>

                        <h3 class="subsection-title mt-8"><i class="fas fa-sliders-h"></i> Custom Parameters</h3>
                        <div id="parameter-grid" class="parameter-grid">
                            </div>
                        <div class="parameter-add">
                            <input type="text" id="new-param-label" class="text-input" placeholder="New Parameter Label (e.g., 'Risk Factor')">
                            <input type="number" id="new-param-value" class="text-input" value="1.0" step="0.1">
                            <button class="btn btn-secondary" id="addParameterBtn"><i class="fas fa-plus-circle"></i> Add Parameter</button>
                        </div>

                        <h3 class="subsection-title mt-8"><i class="fas fa-book-open"></i> Trading Journal</h3>
                        <div class="journal-form">
                            <div class="form-group">
                                <label for="trade-instrument">Instrument:</label>
                                <input type="text" id="trade-instrument" class="text-input" placeholder="e.g., EUR/USD, SPY, TSLA">
                            </div>
                            <div class="form-group grid grid-cols-2 gap-4">
                                <div>
                                    <label for="trade-entry-price">Entry Price:</label>
                                    <input type="number" id="trade-entry-price" class="text-input" step="0.01">
                                </div>
                                <div>
                                    <label for="trade-exit-price">Exit Price:</label>
                                    <input type="number" id="trade-exit-price" class="text-input" step="0.01">
                                </div>
                            </div>
                            <div class="form-group grid grid-cols-2 gap-4">
                                <div>
                                    <label for="trade-pnl">P/L ($):</label>
                                    <input type="number" id="trade-pnl" class="text-input" step="0.01" placeholder="Profit or Loss">
                                </div>
                                <div>
                                    <label for="trade-date">Date:</label>
                                    <input type="date" id="trade-date" class="text-input">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="trade-notes">Notes:</label>
                                <textarea id="trade-notes" class="text-input" rows="4" placeholder="Key observations, reasons for trade, outcome..."></textarea>
                            </div>
                            <div class="flex justify-end gap-3 mt-4">
                                <button class="btn btn-primary" id="saveTradeBtn"><i class="fas fa-save"></i> Save Trade</button>
                                <button class="btn btn-secondary" id="clearJournalFormBtn"><i class="fas fa-undo"></i> Reset Form</button>
                            </div>
                        </div>
                        <div class="journal-controls mt-8">
                            <button class="btn btn-secondary" id="clearJournalBtn"><i class="fas fa-trash-alt"></i> Clear All Journal Entries</button>
                        </div>
                        <div id="journal-entries" class="journal-list scrollable-content">
                            <p class="text-center text-text-dark py-4">No trades logged yet.</p>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <aside class="news-panel">
            <h3 class="news-panel-title"><i class="fas fa-bullhorn"></i> Market Insights</h3>
            <div class="news-content scrollable-content" id="news-feed">
                <div class="news-item">
                    <span class="news-source">TradingView:</span>
                    <p class="news-headline">Global markets anticipate Fed's rate decision, impact on emerging economies.</p>
                </div>
                <div class="news-item">
                    <span class="news-source">Economic Times:</span>
                    <p class="news-headline">Indian Rupee strengthens against USD ahead of RBI's policy review.</p>
                </div>
                <div class="news-item">
                    <span class="news-source">NDTV Profit:</span>
                    <p class="news-headline">Tech stocks surge on Q4 earnings optimism, Nifty IT leads gains.</p>
                </div>
                <div class="news-item">
                    <span class="news-source">Reuters:</span>
                    <p class="news-headline">Oil prices steady as supply concerns balance demand outlook from China.</p>
                </div>
                <div class="news-item">
                    <span class="news-source">Business Standard:</span>
                    <p class="news-headline">SEBI proposes new norms for FPIs to curb volatility in mid-cap segments.</p>
                </div>
                <div class="news-item">
                    <span class="news-source">CNBC TV18:</span>
                    <p class="news-headline">Gold futures jump as geopolitical tensions escalate, safe-haven demand rises.</p>
                </div>
                <div class="news-item disclaimer">
                    Disclaimer: This is a static, simulated news feed for design demonstration. Live market news requires integration with a backend API due to CORS policies.
                </div>
            </div>
        </aside>
    </div>

    <script src="js/script.js"></script>
</body>
</html>
